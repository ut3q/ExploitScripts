getgenv().KeysToPress = {122,120,118}; -- Put keys in here with a "," seperating them!

--[[
    
MUST use either the NAME(in quotations) or VALUE(without quotations) for keys to be pressed!
You can find the Names/Values here --> "https://create.roblox.com/docs/reference/engine/enums/KeyCode"

- Examples - 

[Usage of Values]
getgenv().KeysToPress = {122,120,118};

[Usage of Name]
getgenv().KeysToPress = {"Z","X","V","One"};

]]--



getgenv().ButtonIsActive = false;
getgenv().KeyCount = 3
getgenv().MultiPress = true;
getgenv().SpeedToClick = 0.2;
getgenv().SystemDelete = false;
getgenv().DebugScript = false;

local Flux = loadstring(game:HttpGet"https://raw.githubusercontent.com/dawid-scripts/UI-Libs/main/fluxlib.txt")()
local win = Flux:Window("Auto Key", "Made By Water", Color3.fromRGB(255, 110, 48), Enum.KeyCode.LeftControl)
local tab = win:Tab("Main", "http://www.roblox.com/asset/?id=6023426915")

tab:Label("Main")


tab:Button("AutoKey Toggle", "Activates/De-Activates the autokey!", function()
    if ButtonIsActive == false then
        ButtonIsActive = true
        Flux:Notification("Sucessfully activated the autokey!", "Ok!")
    else
        ButtonIsActive = false
        Flux:Notification("Sucessfully de-activated the autokey!", "Ok!")
    end
end)

tab:Slider("Click Speed", "How fast the keys are clicked in ms.", 10, 2000, 200,function(ClickSpeed)
    SpeedToClick = (ClickSpeed/1000)
    if DebugScript == true then
        warn("[Aqua System] - Interval Time Set To : "..ClickSpeed/1000)
    end
end)

tab:Button("Multipress Toggle", "Activates/De-Activates the multipress system! Deactivating will make all keys pressed at the same time instead of waiting inbetween.", function()
    if ButtonIsActive == false then
        ButtonIsActive = true
        Flux:Notification("Sucessfully activated multipress!", "Ok!")
    else
        ButtonIsActive = false
        Flux:Notification("Sucessfully de-activated the multipress!", "Ok!")
    end
end)

tab:Line()

tab:Label("Extra")

tab:Button("Debug Toggle", "Activates/De-Activates the debug in console!.", function()
    if DebugScript == false then
        DebugScript = true
        Flux:Notification("Sucessfully activated the debug system!", "Ok!")
    else
        DebugScript = false
        Flux:Notification("Sucessfully de-activated the debug system!", "Ok!")
    end
end)

tab:Button("Fail Script", "Purposely fails and clears the script!", function()
    SystemDelete = true;
end)

tab:Line()

tab:Label("Version : 0.12")

function LoadClicks()
    warn("[Aqua System] - Activating AutoKey Exploit!")
    
    for Index, Key in pairs(KeysToPress) do
        KeyCount += 1
    end

    while SystemDelete == false do 
        local MultiPressActive = MultiPress
        local ActivatedKeyCount = KeyCount
        local TimeWaiting = SpeedToClick
        local AlreadyWaited = false

        if DebugScript == true then
            warn("[Aqua System] - Starting new wait thread!")
        end

        if ButtonIsActive == true then
            for Index, Key in pairs(KeysToPress) do
                if DebugScript == true then
                    warn("[Aqua System] - Key : "..Key.." | Index : "..Index)
                end
                task.spawn(function()
                    game:GetService('VirtualInputManager'):SendKeyEvent(true,Key,false,AutoKeyCollect)
                    game:GetService('VirtualInputManager'):SendKeyEvent(false,Key,false,AutoKeyCollect)
                end)
                if MultiPressActive == true and ActivatedKeyCount > 1 then
                    task.wait(TimeWaiting/(math.floor(ActivatedKeyCount)))
                    AlreadyWaited = true
                end
            end
        end

        if DebugScript == true then
            if AlreadyWaited == false then
                if ButtonIsActive == true then
                    warn("[Aqua System] - Completed wait thread! Autokey is currently active! Initiating wait for "..TimeWaiting.." Second(s)!")
                else
                    warn("[Aqua System] - Completed wait thread! Autokey is not currently active! Initiating wait for "..TimeWaiting.." Second(s)!")
                end
            else
                if ButtonIsActive == true then
                    warn("[Aqua System] - Completed wait thread! Autokey is currently active! Already completed wait for "..TimeWaiting.." Second(s)!")
                else
                    warn("[Aqua System] - Completed wait thread! Autokey is not currently active! Already completed wait for "..TimeWaiting.." Second(s)!")
                end
            end
        end

        if AlreadyWaited == false then
            task.wait(TimeWaiting) 
        end
    end

    warn("[Aqua System] - Scanning Guis For Clearing!")

    for Index, Gui in pairs(game:GetService("CoreGui"):GetChildren()) do
        if Gui.Name == "FluxLib" and Gui:FindFirstChild("MainFrame") and Gui:FindFirstChild("MainFrame"):FindFirstChild("LeftFrame") then
           local GuiMainFrame = Gui:FindFirstChild("MainFrame"):FindFirstChild("LeftFrame")

            if GuiMainFrame:FindFirstChild("Title") and GuiMainFrame:FindFirstChild("BottomText") then
                local GuiTitle = GuiMainFrame:FindFirstChild("Title")
                local GuiBottomText = GuiMainFrame:FindFirstChild("BottomText")

                if GuiTitle.Text == "Auto Key" and GuiBottomText.Text == "Made By Water" then
                    warn("[Aqua System] - Clearing Auto Key System!")
                    Gui:Destroy()

                end
            end
        end
    end
end

LoadClicks()
